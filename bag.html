<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Bag - Sistine</title>
  <link rel="stylesheet" href="bag_styles.css">
</head>
<body>

<div class="bag-container">
  <h1 class="bag-title">YOUR BAG</h1>

  <div class="bag-item" data-price="150">
    <div class="item-info">
      <span>CHROME HEARTS HOODIE</span>
      <span>$150</span>
    </div>
    <div class="item-actions">
      <button class="decrease">-</button>
      <span class="quantity">1</span>
      <button class="increase">+</button>
      <button class="remove">X</button>
    </div>
  </div>

  <div class="bag-item" data-price="80">
    <div class="item-info">
      <span>CHROME HEARTS HAT</span>
      <span>$80</span>
    </div>
    <div class="item-actions">
      <button class="decrease">-</button>
      <span class="quantity">1</span>
      <button class="increase">+</button>
      <button class="remove">X</button>
    </div>
  </div>

  <div class="subtotal">
    <span>SUBTOTAL</span>
    <span id="subtotalPrice">$230</span>
  </div>

  <button class="checkout-button">PROCEED TO CHECKOUT</button>

  <div class="back-link">
    <a href="index.html">‚Üê BACK TO HOME</a>
  </div>
</div>

<script>
  function updateCartQuantity() {
    const items = document.querySelectorAll('.bag-item');
    let quantityTotal = 0;
    items.forEach(item => {
      const quantity = parseInt(item.querySelector('.quantity').textContent);
      quantityTotal += quantity;
    });
    localStorage.setItem('cartQuantity', quantityTotal);
  }

  function updateSubtotal() {
    const items = document.querySelectorAll('.bag-item');
    let total = 0;
    items.forEach(item => {
      const price = parseInt(item.getAttribute('data-price'));
      const quantity = parseInt(item.querySelector('.quantity').textContent);
      total += price * quantity;
    });
    document.getElementById('subtotalPrice').textContent = '$' + total;
    updateCartQuantity();
  }

  document.querySelectorAll('.increase').forEach(button => {
    button.addEventListener('click', function() {
      const quantityEl = this.parentElement.querySelector('.quantity');
      quantityEl.textContent = parseInt(quantityEl.textContent) + 1;
      updateSubtotal();
    });
  });

  document.querySelectorAll('.decrease').forEach(button => {
    button.addEventListener('click', function() {
      const quantityEl = this.parentElement.querySelector('.quantity');
      const current = parseInt(quantityEl.textContent);
      if (current > 1) {
        quantityEl.textContent = current - 1;
        updateSubtotal();
      }
    });
  });

  document.querySelectorAll('.remove').forEach(button => {
    button.addEventListener('click', function() {
      this.closest('.bag-item').remove();
      updateSubtotal();
    });
  });

  updateSubtotal();
</script>

</body>
</html>
